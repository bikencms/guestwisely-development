function _villas365PropertySaveGetSavedProperties(){let e=localStorage.getItem("villas_365_saved_properties"),a=[];return null!=e&&"[object Object]"!==e&&(a=JSON.parse(e)),a}function _villas365PropertySaveToggleProperty(e,a){let t=_villas365PropertySaveGetSavedProperties(),l=t.indexOf(a);-1===l?(t.push(a),e.addClass("active")):(t.splice(l,1),e.removeClass("active")),localStorage.setItem("villas_365_saved_properties",JSON.stringify(t));let r=jQuery("._villas-365-saved-properties");r.find("._villas-365-saved-properties-count").text(t.length),1==t.length?(r.find("._villas-365-saved-properties-label-single").show(),r.find("._villas-365-saved-properties-label-multiple").hide()):(r.find("._villas-365-saved-properties-label-single").hide(),r.find("._villas-365-saved-properties-label-multiple").show()),t.length>0?(r.find("i").removeClass("far"),r.find("i").addClass("fas")):(r.find("i").removeClass("fas"),r.find("i").addClass("far"));let i=r.data("href");0!=t.length?i+=t.join(","):i+="0",r.attr("href",i)}function _villas365PropertySaveHasProperty(e){return-1!==_villas365PropertySaveGetSavedProperties().indexOf(e)}function _villas365PropertySaveTotalSaved(){return _villas365PropertySaveGetSavedProperties().length}function _villas365MapInfoWindowOpened(){jQuery(".map-info-window ._villas-365-property-save-button").each(function(){let e=jQuery(this),a=e.data("propertyId");e.removeClass("loading"),_villas365PropertySaveHasProperty(a)?e.addClass("active"):e.removeClass("active"),!0!==e.data("hasClickEvent")&&(e.on("click",function(){let e=jQuery(this),a=e.data("propertyId");_villas365PropertySaveToggleProperty(e,a)}),e.data("hasClickEvent",!0))})}jQuery(document).ready(function(){jQuery("._villas-365-property-save-button").each(function(){let e=jQuery(this),a=e.data("propertyId");e.removeClass("loading"),_villas365PropertySaveHasProperty(a)?e.addClass("active"):e.removeClass("active"),!0!==e.data("hasClickEvent")&&(e.on("click",function(){let e=jQuery(this),a=e.data("propertyId");_villas365PropertySaveToggleProperty(e,a)}),e.data("hasClickEvent",!0))})});
